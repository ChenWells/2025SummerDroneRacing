# 2025弘光科大穿越機研習與競賽網站 - 技術文檔

## 1. 項目概述

### 1.1 網站目的
此網站設計用於「2025弘光科大穿越機研習與競賽」活動，提供活動資訊展示及線上報名功能。網站整合了活動介紹、比賽獎金、時程表、場地資訊及報名表單等功能。

### 1.2 技術架構
- **前端技術**：HTML5、CSS3、純JavaScript(ES6+)
- **響應式設計**：Tailwind CSS
- **字體圖標**：Font Awesome
- **後端整合**：Google Apps Script作為表單處理及數據存儲
- **部署**：GitHub Pages
- **版本控制**：Git

## 2. 頁面結構

### 2.1 主要頁面區塊
- **導航欄**：固定於頁面頂部，包含各主要區塊的錨點連結
- **橫幅區**：展示活動主題及號召性文字
- **關於競賽**：介紹競賽目的
- **賽事獎金**：展示三個比賽項目的獎金設置
- **活動時程**：顯示研習和競賽的時間安排
- **競賽場地**：包含地點資訊、交通方式及地圖
- **報名區**：提供四個活動的報名入口
- **頁尾**：版權及聯絡資訊

### 2.2 模態框設計
網站採用模態框實現報名表單，共四個：
1. **穿越無人機競速闖關賽報名表**
2. **入門無人機競速闖關賽報名表** 
3. **入門無人機團體解題競速闖關賽報名表**
4. **無人機與穿越機研習報名表**

## 3. 表單處理流程

### 3.1 表單設計特性
- **響應式布局**：適配不同設備尺寸
- **分區卡片式設計**：使用彩色邊框區分不同信息類別
- **必填欄位驗證**：客戶端驗證確保資料完整性
- **身份條件渲染**：在研習表單中根據選擇的身份動態顯示相關欄位

### 3.2 數據提交流程
1. 用戶填寫表單並提交
2. JavaScript處理表單提交事件，阻止默認提交
3. 表單數據被轉換為JSON格式
4. 使用Fetch API以POST方式發送到Google Apps Script端點
5. 使用no-cors模式解決跨域問題
6. 提交期間顯示加載狀態
7. 提交完成後顯示確認訊息並關閉模態框

### 3.3 數據處理技術要點
- **FormData API**：用於收集表單數據
- **條件性字段處理**：根據表單類型添加不同的eventType
- **JSON序列化**：將表單數據轉換為後端可接受的格式
- **空值填充**：確保根據選擇的身份為不相關欄位提供空值

## 4. 關鍵JavaScript功能

### 4.1 模態框控制
```javascript
function openModal(type) {
    // 隱藏所有 modal
    document.getElementById('modal-fpv').classList.add('hidden');
    document.getElementById('modal-beginner').classList.add('hidden');
    document.getElementById('modal-team').classList.add('hidden');
    document.getElementById('modal-workshop').classList.add('hidden');
    
    // 顯示對應的 modal
    document.getElementById('modal-' + type).classList.remove('hidden');
    
    // 顯示 modal 容器
    document.getElementById('modal-container').classList.remove('hidden');
    document.body.style.overflow = 'hidden'; // 防止背景滾動
    
    // 如果打開的是研習表單，初始化身份選擇
    if(type === 'workshop') {
        const selectedIdentity = document.querySelector('input[name="identity"]:checked');
        if (selectedIdentity) {
            selectedIdentity.dispatchEvent(new Event('change'));
        }
    }
}
```

### 4.2 表單驗證與提交
```javascript
// 特殊處理研習表單，確保隱藏欄位不會造成驗證問題
if (formId === 'form-workshop') {
    // 獲取目前選擇的身份
    const identity = document.querySelector('input[name="identity"]:checked').value;
    
    // 根據身份移除不相關欄位的required屬性
    if (identity === '學生') {
        document.querySelectorAll('#teacher-info input, #professional-info input').forEach(input => {
            input.required = false;
        });
    } else if (identity === '教師') {
        document.querySelectorAll('#student-info input, #professional-info input').forEach(input => {
            input.required = false;
        });
    } else if (identity === '社會人士') {
        document.querySelectorAll('#student-info input, #teacher-info input').forEach(input => {
            input.required = false;
        });
    }
}
```

### 4.3 身份切換處理
```javascript
identityRadios.forEach(radio => {
    radio.addEventListener('change', function() {
        // 隱藏所有資訊區塊
        studentInfo.classList.add('hidden');
        teacherInfo.classList.add('hidden');
        professionalInfo.classList.add('hidden');
        
        // 移除所有輸入框的required屬性
        document.querySelectorAll('#student-info input, #teacher-info input, #professional-info input').forEach(input => {
            input.required = false;
        });
        
        // 根據選擇顯示相應的資訊區塊
        if (this.value === '學生') {
            studentInfo.classList.remove('hidden');
            // 設置必填欄位
            studentInfo.querySelectorAll('input').forEach(input => {
                input.required = true;
            });
        }
        // ... 其他身份類似處理
    });
});
```

## 5. 樣式設計

### 5.1 配色方案
- **主色調**：深紫色 (#3a0088)
- **輔助色**：紫紅色 (#930077)、亮紅色 (#e61c5d)
- **點綴色**：金黃色 (#ffbd39)
- **背景色**：白色和淺灰色 (#f9fafb)

### 5.2 響應式設計
- 使用Tailwind CSS的網格系統和響應式類
- 小屏幕單列布局，中大屏幕多列布局
- 模態框在小屏幕上自適應高度和寬度

### 5.3 表單元素樣式
```css
/* 輸入框樣式 */
.w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50

/* 按鈕漸變樣式 */
.bg-gradient-to-r from-[#3a0088] via-[#930077] to-[#e61c5d] text-white
```

## 6. 集成與部署

### 6.1 Google Apps Script整合
- 使用POST方法提交表單數據到GAS端點
- 以JSON格式傳遞含有eventType和params的請求體
- GAS處理數據並儲存到Google表格
- 發送確認郵件至報名者信箱

### 6.2 版本控制
- 使用Git管理代碼版本
- 主要版本標記：
  - v1.0：初始釋出版本
  - v1.1：修復表單提交問題，優化表單驗證邏輯

### 6.3 優化考量
- 運用CSS動畫提升用戶體驗
- 錯誤處理和用戶反饋機制
- 防止表單重複提交
- 平滑滾動實現

## 7. 挑戰與解決方案

### 7.1 表單驗證挑戰
**問題**：隱藏表單項的required屬性導致表單無法提交  
**解決方案**：
1. 動態管理隱藏欄位的required屬性
2. 提交前根據選擇的身份移除不相關欄位的required屬性
3. 為不同身份添加相應的空值欄位

### 7.2 跨域請求處理
**問題**：向Google Apps Script提交數據時的跨域限制  
**解決方案**：
1. 使用no-cors模式發送請求
2. 確保請求格式符合GAS要求
3. 即使無法確認成功也提供積極的用戶反饋

## 8. 安全性考量

### 8.1 用戶數據保護
- 輸入數據僅存儲在Google表格中
- 無敏感數據明文存儲
- 表單驗證減少惡意數據注入風險

### 8.2 程式碼安全
- 無敏感API密鑰暴露在前端
- 使用Google Apps Script的內建安全機制

## 9. 未來擴展建議

1. 添加報名數據統計和可視化
2. 實現報名狀態查詢功能
3. 增加活動相冊或視頻展示區
4. 整合線上付款系統(如適用)
5. 添加多語言支持
6. 實現PWA功能，提升移動用戶體驗 