<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025弘光科大穿越機研習與競賽</title>
    <link rel="icon" href="./images/cropped-ITA-Logo-sm-192x192.png" sizes="192x192" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;600;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }
        .en-font {
            font-family: 'Josefin Sans', sans-serif;
        }
        /* 添加全局文本颜色设置 */
        p, span, label, input, li, a:not([class*='text-']) {
            color: #3a0088;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- 導航欄 -->
    <nav class="bg-white shadow-lg fixed w-full z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <a href="#" class="text-xl font-bold text-[#3a0088] hover:text-[#930077] transition duration-300">2025 FPV Drone Racing Game</a>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <a href="#about" class="text-[#3a0088] hover:text-[#930077]">關於競賽</a>
                    <a href="#schedule" class="text-[#3a0088] hover:text-[#930077]">活動時程</a>
                    <a href="#prizes" class="text-[#3a0088] hover:text-[#930077]">賽事獎金</a>
                    <a href="#location" class="text-[#3a0088] hover:text-[#930077]">競賽場地</a>
                    <a href="#register" class="bg-[#3a0088] text-white px-4 py-2 rounded-lg hover:bg-[#930077]">立即報名</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- 橫幅區 -->
    <header class="pt-16">
        <div class="relative h-[50vh]">
            <div class="absolute inset-0">
                <img src="images/20250524-FPV-Drone.png" alt="FPV Drone 背景圖" class="w-full h-full object-cover">
                <div class="absolute inset-0 bg-gradient-to-r from-[#3a0088]/80 to-[#930077]/80"></div>
            </div>
            <div class="absolute inset-0 flex items-center justify-center">
                <div class="text-center text-white px-4">
                    <h1 class="text-4xl md:text-6xl font-bold mb-4">2025弘光科大穿越機研習與競賽</h1>
                    <p class="text-2xl md:text-3xl mb-6 text-[#f0f8ff] font-semibold">無限翱翔，競速未來！</p>
                    <a href="#register" class="bg-[#ffbd39] text-[#3a0088] px-8 py-3 rounded-full text-lg font-semibold hover:bg-white transition duration-300">立即報名</a>
                </div>
            </div>
        </div>
    </header>

    <!-- 關於競賽 -->
    <section id="about" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-[#3a0088]">競賽目的</h2>
            <div class="bg-gradient-to-br from-[#3a0088]/5 to-[#930077]/5 p-8 rounded-xl shadow-lg">
                <p class="text-lg leading-relaxed text-[#3a0088]">
                    「2025弘光科大穿越機研習與競賽」旨在結合技職教育4.0的核心理念，強調適性揚材與學用合一，透過創新科技賽事激發學生潛能與職業興趣，培育未來產業所需的實務技能與創意思維。比賽不僅是一場技術較量，更是一個激勵學習、啟發創新的平台，讓學生在探索無人機應用的同時，培養跨領域整合能力，展現技職教育「務實致用、創新引領」的價值與特色。
                </p>
            </div>
        </div>
    </section>

    <!-- 賽事獎金 -->
    <section id="prizes" class="py-20 bg-gradient-to-br from-[#3a0088]/5 to-[#930077]/5">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-[#3a0088]">賽事獎金</h2>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- 競賽一 -->
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-[#3a0088]">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088]">穿越無人機闖關競速賽</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <i class="fas fa-trophy text-[#ffbd39] mr-2"></i>
                            <span>第一名：2000元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#e61c5d] mr-2"></i>
                            <span>第二名：1500元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#930077] mr-2"></i>
                            <span>第三名：1000元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第四名：500元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第五名：300元</span>
                        </li>
                    </ul>
                </div>
                <!-- 競賽二 -->
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-[#3a0088]">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088]">入門無人機競速闖關賽</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <i class="fas fa-trophy text-[#ffbd39] mr-2"></i>
                            <span>第一名：2000元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#e61c5d] mr-2"></i>
                            <span>第二名：1500元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#930077] mr-2"></i>
                            <span>第三名：1000元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第四名：500元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第五名：300元</span>
                        </li>
                    </ul>
                </div>
                <!-- 競賽三 -->
                <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 border-t-4 border-[#3a0088]">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088]">入門無人機團體解題競速闖關賽</h3>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <i class="fas fa-trophy text-[#ffbd39] mr-2"></i>
                            <span>第一名：2200元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#e61c5d] mr-2"></i>
                            <span>第二名：1600元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-medal text-[#930077] mr-2"></i>
                            <span>第三名：1100元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第四名：600元</span>
                        </li>
                        <li class="flex items-center">
                            <i class="fas fa-award text-gray-300 mr-2"></i>
                            <span>第五名：400元</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- 活動時程 -->
    <section id="schedule" class="py-16 bg-gray-50">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-4xl font-bold text-center mb-12 text-[#3a0088]">活動時程</h2>
            <div class="grid grid-cols-1 gap-8">
                <!-- 研習時段 -->
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h3 class="text-2xl font-bold mb-6 text-[#3a0088]">無人機與穿越機研習</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="w-32 flex-shrink-0 font-bold text-[#ffbd39]">09:00-12:00</div>
                            <div class="space-y-2">
                                <p class="font-semibold">研習內容 (提供便當)：</p>
                                <ol class="list-decimal list-inside space-y-1 ml-4">
                                    <li>無人機與穿越機基本知識</li>
                                    <li>穿越機週邊 (電池、充電器、ELRS、控制器等)</li>
                                    <li>穿越機賽事</li>
                                    <li>穿越機模擬器</li>
                                    <li>穿越機的調校、維護、維修</li>
                                    <li>穿越機飛行表演</li>
                                </ol>
                            </div>
                        </div>
                        <div class="flex items-start">
                            <div class="w-32 flex-shrink-0 font-bold text-[#ffbd39]">12:00-13:00</div>
                            <div class="text-[#3a0088]">中午休息</div>
                        </div>
                    </div>
                </div>

                <!-- 競賽時段 -->
                <div class="bg-white rounded-lg shadow-lg p-8">
                    <h3 class="text-2xl font-bold mb-6 text-[#3a0088]">競賽時段</h3>
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="w-32 flex-shrink-0 font-bold text-[#ffbd39]">13:00-14:00</div>
                            <div class="text-[#3a0088]">競賽一：穿越無人機闖關競速賽</div>
                        </div>
                        <div class="flex items-start">
                            <div class="w-32 flex-shrink-0 font-bold text-[#ffbd39]">14:00-15:00</div>
                            <div class="text-[#3a0088]">競賽二：入門無人機競速闖關賽</div>
                        </div>
                        <div class="flex items-start">
                            <div class="w-32 flex-shrink-0 font-bold text-[#ffbd39]">15:00-17:00</div>
                            <div class="text-[#3a0088]">競賽三：入門無人機團體解題競速闖關賽</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 競賽場地 -->
    <section id="location" class="py-20 bg-white">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-[#3a0088]">競賽場地</h2>
            <div class="grid md:grid-cols-2 gap-8 mb-12">
                <div>
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088]">地點資訊</h3>
                    <p class="mb-4 text-[#3a0088]">弘光科技大學智慧科技大樓七樓無人機教育中心</p>
                    <p class="mb-4 text-[#3a0088]">GPS座標：24.21612232201235, 120.58396194693957</p>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-bold mb-2 text-[#3a0088]">搭公車：</h4>
                            <p class="text-[#3a0088]">請坐台中市BRT，弘光科大下車，往本校櫻花大道向上走，通過噴水池，走至本校智慧科技大樓。</p>
                        </div>
                        <div>
                            <h4 class="font-bold mb-2 text-[#3a0088]">騎機車：</h4>
                            <p class="text-[#3a0088]">請從弘光大門(往沙鹿方向)下一個紅綠燈右轉，一直騎到底右轉，停入本校機車停車場，再往右側下方走至本校智慧科技大樓。</p>
                        </div>
                        <div>
                            <h4 class="font-bold mb-2 text-[#3a0088]">開車：</h4>
                            <p class="text-[#3a0088]">入校門後，往本校櫻花大道向上開，繞過本校智慧科技大樓，停在本校操場，往操場另一側走至本校智慧科技大樓。</p>
                        </div>
                    </div>
                </div>
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="p-4 bg-gradient-to-r from-[#3a0088] to-[#930077] text-white">
                        <h3 class="text-xl font-bold">弘光科技大學校園平面圖</h3>
                    </div>
                    <div class="p-4">
                        <img src="images/弘光校區平面圖.jpg" alt="弘光科技大學校園平面圖" class="w-full h-auto rounded-lg shadow-md hover:shadow-xl transition duration-300 cursor-pointer" onclick="openImageModal(this.src)">
                        <p class="mt-4 text-sm text-[#3a0088] text-center">點擊圖片可放大查看</p>
                    </div>
                </div>
            </div>
            <div class="bg-gray-100 rounded-xl p-4">
                <h3 class="text-xl font-bold mb-4 text-center text-[#3a0088]">弘光科技大學智慧科技應用系(會場)</h3>
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d905.7829436308719!2d120.58345678371133!3d24.216679000000016!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x34691628c42fcd27%3A0x958f063932f24aa4!2z5byY5YWJ56eR5oqA5aSn5a245a245bCI56eR5oqA5buj55So57O7!5e0!3m2!1szh-TW!2stw!4v1710900000000!5m2!1szh-TW!2stw"
                    width="100%" 
                    height="400" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy">
                </iframe>
            </div>
        </div>
    </section>

    <!-- 報名區 -->
    <section id="register" class="py-20 bg-gradient-to-r from-[#3a0088] to-[#930077]">
        <div class="max-w-7xl mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-12 text-white">立即報名</h2>
            <div class="grid grid-cols-1 gap-8 mb-8">
                <button onclick="openModal('workshop')" class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 text-left group">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088] group-hover:text-[#930077]">無人機與穿越機研習</h3>
                    <p class="text-[#3a0088] mb-4">09:00-12:00 研習活動</p>
                    <div class="w-full bg-gradient-to-r from-[#3a0088] to-[#930077] text-white py-2 rounded-lg group-hover:from-[#930077] group-hover:to-[#e61c5d] transition duration-300 text-center">立即報名</div>
                </button>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <button onclick="openModal('fpv')" class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 text-left group">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088] group-hover:text-[#930077]">穿越無人機競速闖關賽</h3>
                    <p class="text-[#3a0088] mb-4">挑戰極限速度與精準操控</p>
                    <div class="w-full bg-gradient-to-r from-[#3a0088] to-[#930077] text-white py-2 rounded-lg group-hover:from-[#930077] group-hover:to-[#e61c5d] transition duration-300 text-center">立即報名</div>
                </button>
                <button onclick="openModal('beginner')" class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 text-left group">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088] group-hover:text-[#930077]">入門無人機競速闖關賽</h3>
                    <p class="text-[#3a0088] mb-4">適合初學者的入門競賽</p>
                    <div class="w-full bg-gradient-to-r from-[#3a0088] to-[#930077] text-white py-2 rounded-lg group-hover:from-[#930077] group-hover:to-[#e61c5d] transition duration-300 text-center">立即報名</div>
                </button>
                <button onclick="openModal('team')" class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition duration-300 text-left group">
                    <h3 class="text-xl font-bold mb-4 text-[#3a0088] group-hover:text-[#930077]">入門無人機團體解題競速闖關賽</h3>
                    <p class="text-[#3a0088] mb-4">團隊合作解題競賽</p>
                    <div class="w-full bg-gradient-to-r from-[#3a0088] to-[#930077] text-white py-2 rounded-lg group-hover:from-[#930077] group-hover:to-[#e61c5d] transition duration-300 text-center">立即報名</div>
                </button>
            </div>
        </div>
    </section>

    <!-- Modal 容器 -->
    <div id="modal-container" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="min-h-screen flex items-center justify-center p-4">
            <!-- 競賽一：穿越無人機闖關競速賽 Modal -->
            <div id="modal-fpv" class="bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-hidden hidden">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-2xl font-bold text-[#3a0088]">穿越無人機競速闖關賽報名表</h3>
                    <button onclick="closeModal()" class="text-[#3a0088] hover:text-[#930077]">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <div class="overflow-y-auto pr-2" style="max-height: calc(90vh - 130px);">
                    <p class="text-[#3a0088] text-center mb-4">報名截止日期：2025年5月20日</p>
                    <div class="bg-[#3a0088]/5 p-4 rounded-lg mb-8">
                        <p class="text-[#3a0088]">
                            單人賽，飛手需自備3吋(含)以下穿越涵道機(禁止無槳葉保護圈之無人機報名競賽)，飛手需戴穿越機眼鏡，競賽時飛機需帶框。FlyCat與社會人士請報此組，不要重複報名入門競速組。
                        </p>
                    </div>
                    
                    <form class="space-y-8" id="form-fpv" action="https://script.google.com/macros/s/AKfycbylbXywDGdSdySbHVeo9l3Ifs0wG2gdA58yssurQT_NyNiJznWbrcFk6CKF-ILd5pvr/exec" method="POST">
                        <input type="hidden" name="eventType" value="穿越無人機競速闖關賽">
                        
                        <!-- 基本資料卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#3a0088] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#3a0088] border-b pb-2">基本資料</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">名 / First Name *</label>
                                        <input type="text" name="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">姓 / Last Name *</label>
                                        <input type="text" name="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label class="block text-[#3a0088] font-medium mb-2">飛手外號 Call sign *</label>
                                    <input type="text" name="callSign" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="例如：飛天象、肉肉...">
                                </div>
                            </div>
                        </div>

                        <!-- 設備資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#930077] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#930077] border-b pb-2">設備資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">團傳 *</label>
                                        <div class="grid grid-cols-2 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="transmission" value="類比" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">類比</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="transmission" value="數位" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">數位</span>
                                            </label>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">飛機尺寸 *</label>
                                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="size" value="2吋(85mm)" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">2吋(85mm)</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="size" value="2.5吋" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">2.5吋</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="size" value="3吋" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">3吋</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="size" value="65mm" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">65mm</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="size" value="75mm" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">75mm</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 聯絡資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#e61c5d] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#e61c5d] border-b pb-2">聯絡資訊</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">電子信箱 / E-mail *</label>
                                        <input type="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="example@example.com">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">連絡電話 / Phone Number *</label>
                                        <input type="tel" name="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入您的連絡電話">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 其他資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#ffbd39] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#ffbd39] border-b pb-2">其他資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">目前就讀學校/職業</label>
                                        <input type="text" name="school" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入您的學校或職業">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">指導老師(需證明的話)</label>
                                        <input type="text" name="teacher" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入您的指導老師姓名">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 提交按鈕 -->
                        <div class="text-center">
                            <button type="submit" class="bg-gradient-to-r from-[#3a0088] via-[#930077] to-[#e61c5d] text-white px-12 py-4 rounded-lg hover:from-[#930077] hover:via-[#e61c5d] hover:to-[#ffbd39] transition duration-300 font-semibold text-lg shadow-lg hover:shadow-xl">
                                提交報名
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- 競賽二：入門無人機競速闖關賽 Modal -->
            <div id="modal-beginner" class="bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-hidden hidden">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-2xl font-bold text-[#3a0088]">入門無人機競速闖關賽報名表</h3>
                    <button onclick="closeModal()" class="text-[#3a0088] hover:text-[#930077]">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <div class="overflow-y-auto pr-2" style="max-height: calc(90vh - 130px);">
                    <p class="text-[#3a0088] text-center mb-4">報名截止日期：2025年5月20日</p>
                    <div class="bg-[#3a0088]/5 p-4 rounded-lg mb-8">
                        <p class="text-[#3a0088]">
                            單人賽(限學生身份，大學以下)，操控大會提供之Tello無人機或自備2吋以下無人機。有多年經驗的飛手請不要降維打級無人機小幼苗，報名此競賽，謝謝。
                        </p>
                    </div>
                    
                    <form class="space-y-8" id="form-beginner" action="https://script.google.com/macros/s/AKfycbylbXywDGdSdySbHVeo9l3Ifs0wG2gdA58yssurQT_NyNiJznWbrcFk6CKF-ILd5pvr/exec" method="POST">
                        <input type="hidden" name="eventType" value="入門無人機競速闖關賽">
                        
                        <!-- 基本資料卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#3a0088] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#3a0088] border-b pb-2">基本資料</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">名 / First Name *</label>
                                        <input type="text" name="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">姓 / Last Name *</label>
                                        <input type="text" name="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                    </div>
                                </div>
                                <div class="mt-4">
                                    <label class="block text-[#3a0088] font-medium mb-2">飛手外號</label>
                                    <input type="text" name="callSign" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="例如：飛天象、肉肉...">
                                </div>
                            </div>
                        </div>

                        <!-- 設備資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#930077] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#930077] border-b pb-2">設備資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">自備飛機 *</label>
                                        <div class="grid grid-cols-2 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="ownDrone" value="是" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">是</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="ownDrone" value="否" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">否</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 聯絡資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#e61c5d] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#e61c5d] border-b pb-2">聯絡資訊</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">電子信箱 / E-mail *</label>
                                        <input type="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="example@example.com">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">連絡電話 / Phone Number *</label>
                                        <input type="tel" name="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入您的連絡電話">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 其他資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#ffbd39] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#ffbd39] border-b pb-2">其他資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">目前就讀學校 *</label>
                                        <input type="text" name="school" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入學校名稱">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">指導老師(發給老師證明)</label>
                                        <input type="text" name="teacher" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入指導老師姓名">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 提交按鈕 -->
                        <div class="text-center">
                            <button type="submit" class="bg-gradient-to-r from-[#3a0088] via-[#930077] to-[#e61c5d] text-white px-12 py-4 rounded-lg hover:from-[#930077] hover:via-[#e61c5d] hover:to-[#ffbd39] transition duration-300 font-semibold text-lg shadow-lg hover:shadow-xl">
                                提交報名
                            </button>
                        </div>
                    </form>
                </div>
            </div>
            
            <!-- 競賽三：入門無人機團體解題競速闖關賽 Modal -->
            <div id="modal-team" class="bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-hidden hidden">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-2xl font-bold text-[#3a0088]">入門無人機團體解題競速闖關賽報名表</h3>
                    <button onclick="closeModal()" class="text-[#3a0088] hover:text-[#930077]">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <div class="overflow-y-auto pr-2" style="max-height: calc(90vh - 130px);">
                    <p class="text-[#3a0088] text-center mb-4">報名截止日期：2025年5月20日</p>
                    <div class="bg-[#3a0088]/5 p-4 rounded-lg mb-8">
                        <p class="text-[#3a0088]">
                            三人一組，一人擔任飛手，操控大會提供之Tello無人機或自備2吋以下無人機，隊友擔任解題手。為求公平，一人僅限歸屬一組，不得報名多組參賽。
                        </p>
                    </div>
                    
                    <form class="space-y-8" id="form-team" action="https://script.google.com/macros/s/AKfycbylbXywDGdSdySbHVeo9l3Ifs0wG2gdA58yssurQT_NyNiJznWbrcFk6CKF-ILd5pvr/exec" method="POST">
                        <input type="hidden" name="eventType" value="入門無人機團體解題競速闖關賽">
                        
                        <!-- 隊長資料卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#3a0088] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#3a0088] border-b pb-2">隊長資料</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">名 / First Name *</label>
                                        <input type="text" name="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">姓 / Last Name *</label>
                                        <input type="text" name="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 隊員資料卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#930077] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#930077] border-b pb-2">隊員資料</h4>
                                <div class="space-y-6 mt-4">
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-[#3a0088] font-medium mb-2">隊員1 名 / First Name *</label>
                                            <input type="text" name="teamMember1FirstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                        </div>
                                        <div>
                                            <label class="block text-[#3a0088] font-medium mb-2">隊員1 姓 / Last Name *</label>
                                            <input type="text" name="teamMember1LastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                        </div>
                                    </div>
                                    <div class="grid md:grid-cols-2 gap-6">
                                        <div>
                                            <label class="block text-[#3a0088] font-medium mb-2">隊員2 名 / First Name *</label>
                                            <input type="text" name="teamMember2FirstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                        </div>
                                        <div>
                                            <label class="block text-[#3a0088] font-medium mb-2">隊員2 姓 / Last Name *</label>
                                            <input type="text" name="teamMember2LastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">團隊外號</label>
                                        <input type="text" name="teamName" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="例如：飛天象、肉肉...">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 設備資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#e61c5d] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#e61c5d] border-b pb-2">設備資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">自備飛機 *</label>
                                        <div class="grid grid-cols-2 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="ownDrone" value="是" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">是</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="ownDrone" value="否" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">否</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 聯絡資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#ffbd39] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#ffbd39] border-b pb-2">聯絡資訊</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">電子信箱 / E-mail *</label>
                                        <input type="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="example@example.com">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">連絡電話 / Phone Number *</label>
                                        <input type="tel" name="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入您的連絡電話">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 其他資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#3a0088] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#3a0088] border-b pb-2">其他資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">目前就讀學校 *</label>
                                        <input type="text" name="school" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入學校名稱">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">指導老師(發給老師證明)</label>
                                        <input type="text" name="teacher" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入指導老師姓名">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 提交按鈕 -->
                        <div class="text-center">
                            <button type="submit" class="bg-gradient-to-r from-[#3a0088] via-[#930077] to-[#e61c5d] text-white px-12 py-4 rounded-lg hover:from-[#930077] hover:via-[#e61c5d] hover:to-[#ffbd39] transition duration-300 font-semibold text-lg shadow-lg hover:shadow-xl">
                                提交報名
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 研習活動報名表 Modal -->
            <div id="modal-workshop" class="bg-gradient-to-br from-gray-50 to-white rounded-xl shadow-2xl p-8 max-w-4xl w-full max-h-[90vh] overflow-hidden hidden">
                <div class="flex justify-between items-center mb-6 border-b pb-4">
                    <h3 class="text-2xl font-bold text-[#3a0088]">無人機與穿越機研習報名表</h3>
                    <button onclick="closeModal()" class="text-[#3a0088] hover:text-[#930077]">
                        <i class="fas fa-times text-2xl"></i>
                    </button>
                </div>
                <div class="overflow-y-auto pr-2" style="max-height: calc(90vh - 130px);">
                    <p class="text-[#3a0088] text-center mb-4">報名截止日期：2025年5月20日</p>
                    <div class="bg-[#3a0088]/5 p-4 rounded-lg mb-8">
                        <p class="text-[#3a0088]">
                            研習時間：09:00-12:00，內容包括無人機與穿越機基本知識、穿越機週邊、穿越機賽事、穿越機模擬器、穿越機的調校、維護、維修以及穿越機飛行表演。
                        </p>
                    </div>
                    
                    <form class="space-y-8" id="form-workshop" action="https://script.google.com/macros/s/AKfycbylbXywDGdSdySbHVeo9l3Ifs0wG2gdA58yssurQT_NyNiJznWbrcFk6CKF-ILd5pvr/exec" method="POST">
                        <input type="hidden" name="eventType" value="無人機與穿越機研習">
                        
                        <!-- 基本資料卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#3a0088] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#3a0088] border-b pb-2">基本資料</h4>
                                <div class="grid md:grid-cols-2 gap-6 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">名 / First Name *</label>
                                        <input type="text" name="firstName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入名字">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">姓 / Last Name *</label>
                                        <input type="text" name="lastName" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入姓氏">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">電子郵件 Email *</label>
                                        <input type="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入電子郵件">
                                    </div>
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">手機 Phone *</label>
                                        <input type="tel" name="phone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入連絡電話">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 身份資訊卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#930077] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#930077] border-b pb-2">身份資訊</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">身份 *</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="identity" value="學生" required class="form-radio text-[#3a0088]" checked>
                                                <span class="ml-2">學生</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="identity" value="教師" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">教師</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="identity" value="社會人士" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">社會人士</span>
                                            </label>
                                        </div>
                                    </div>
                                    
                                    <!-- 學生資訊 -->
                                    <div id="student-info">
                                        <div class="grid md:grid-cols-2 gap-6">
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">學校名稱 *</label>
                                                <input type="text" name="school" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入學校名稱">
                                            </div>
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">科系與年級 *</label>
                                                <input type="text" name="department" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入科系與年級">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 教師資訊 -->
                                    <div id="teacher-info" class="hidden">
                                        <div class="grid md:grid-cols-3 gap-6">
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">學校名稱 *</label>
                                                <input type="text" name="teacherSchool" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入學校名稱">
                                            </div>
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">科系 *</label>
                                                <input type="text" name="teacherDepartment" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入科系名稱">
                                            </div>
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">職稱 *</label>
                                                <input type="text" name="teacherTitle" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入職稱">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 社會人士資訊 -->
                                    <div id="professional-info" class="hidden">
                                        <div class="grid md:grid-cols-2 gap-6">
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">職業 *</label>
                                                <input type="text" name="profession" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入職業名稱">
                                            </div>
                                            <div>
                                                <label class="block text-[#3a0088] font-medium mb-2">公司名稱 *</label>
                                                <input type="text" name="company" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3a0088] focus:border-[#3a0088] bg-gray-50" placeholder="請輸入公司名稱">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- 便當選項卡片 -->
                        <div class="relative rounded-lg shadow-md bg-white overflow-visible">
                            <div class="absolute left-0 top-0 bottom-0 w-2 bg-[#ffbd39] rounded-l-lg"></div>
                            <div class="p-6 ml-4 rounded-lg">
                                <h4 class="text-lg font-semibold text-[#ffbd39] border-b pb-2">便當選項</h4>
                                <div class="space-y-4 mt-4">
                                    <div>
                                        <label class="block text-[#3a0088] font-medium mb-2">便當選項 *</label>
                                        <div class="grid grid-cols-3 gap-4">
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="mealOption" value="葷食" required class="form-radio text-[#3a0088]" checked>
                                                <span class="ml-2">葷食</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="mealOption" value="素食" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">素食</span>
                                            </label>
                                            <label class="flex items-center p-3 border rounded-lg hover:bg-[#3a0088]/5 cursor-pointer">
                                                <input type="radio" name="mealOption" value="不需要提供" required class="form-radio text-[#3a0088]">
                                                <span class="ml-2">不需要提供</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 提交按鈕 -->
                        <div class="text-center">
                            <button type="submit" class="bg-gradient-to-r from-[#3a0088] via-[#930077] to-[#e61c5d] text-white px-12 py-4 rounded-lg hover:from-[#930077] hover:via-[#e61c5d] hover:to-[#ffbd39] transition duration-300 font-semibold text-lg shadow-lg hover:shadow-xl">
                                提交報名
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 新增圖片放大顯示的 Modal -->
    <div id="image-modal" class="fixed inset-0 bg-black bg-opacity-80 hidden z-50 flex items-center justify-center p-4">
        <div class="relative max-w-4xl w-full">
            <button onclick="closeImageModal()" class="absolute top-4 right-4 text-white hover:text-[#930077] z-10">
                <i class="fas fa-times text-2xl"></i>
            </button>
            <img id="modal-image" src="" alt="放大圖片" class="w-full h-auto max-h-[90vh] object-contain">
        </div>
    </div>

    <script>
        // Modal 控制
        function openModal(type) {
            // console.log('Opening modal for:', type);
            
            // 隱藏所有 modal
            document.getElementById('modal-fpv').classList.add('hidden');
            document.getElementById('modal-beginner').classList.add('hidden');
            document.getElementById('modal-team').classList.add('hidden');
            document.getElementById('modal-workshop').classList.add('hidden');
            
            // 顯示對應的 modal
            document.getElementById('modal-' + type).classList.remove('hidden');
            
            // 顯示 modal 容器
            document.getElementById('modal-container').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // 防止背景滾動
            
            // 如果打開的是研習表單，初始化身份選擇
            if(type === 'workshop') {
                // 獲取初始選中的身份
                const selectedIdentity = document.querySelector('input[name="identity"]:checked');
                if (selectedIdentity) {
                    selectedIdentity.dispatchEvent(new Event('change'));
                }
            }
        }

        function closeModal() {
            document.getElementById('modal-container').classList.add('hidden');
            document.body.style.overflow = ''; // 恢復背景滾動
        }

        // 點擊 modal 外部關閉
        document.getElementById('modal-container').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // 按 ESC 鍵關閉
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });

        // 平滑滾動
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId === '#') {
                    // 如果是回到頂部的連結，使用自定義的平滑滾動
                    const duration = 1000; // 滾動持續時間（毫秒）
                    const start = window.pageYOffset;
                    const startTime = performance.now();
                    
                    function scroll() {
                        const currentTime = performance.now();
                        const time = Math.min(1, (currentTime - startTime) / duration);
                        
                        window.scrollTo(0, start * (1 - time));
                        
                        if (time < 1) {
                            requestAnimationFrame(scroll);
                        }
                    }
                    
                    requestAnimationFrame(scroll);
                } else {
                    // 如果是其他錨點連結
                    const targetElement = document.querySelector(targetId);
                    const navHeight = 64; // 導航欄的高度（16 * 4 = 64px）
                    const offset = 20; // 額外的偏移量，讓內容更靠近頂部
                    const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset - navHeight - offset;
                    const startPosition = window.pageYOffset;
                    const distance = targetPosition - startPosition;
                    const duration = 1000; // 滾動持續時間（毫秒）
                    let start = null;
                    
                    function animation(currentTime) {
                        if (start === null) start = currentTime;
                        const timeElapsed = currentTime - start;
                        const progress = Math.min(timeElapsed / duration, 1);
                        
                        window.scrollTo(0, startPosition + distance * progress);
                        
                        if (timeElapsed < duration) {
                            requestAnimationFrame(animation);
                        }
                    }
                    
                    requestAnimationFrame(animation);
                }
            });
        });

        // 表單提交和身份處理初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 處理所有報名表單的提交
            const allForms = ['form-fpv', 'form-beginner', 'form-team', 'form-workshop'];
            
            // 處理所有報名表單的提交
            allForms.forEach(formId => {
                const form = document.getElementById(formId);
                if (form) {
                    form.addEventListener('submit', function(e) {
                        e.preventDefault(); // 阻止表單正常提交
                        
                        // 特殊處理研習表單，確保隱藏欄位不會造成驗證問題
                        if (formId === 'form-workshop') {
                            // 獲取目前選擇的身份
                            const identity = document.querySelector('input[name="identity"]:checked').value;
                            
                            // 根據身份移除不相關欄位的required屬性
                            if (identity === '學生') {
                                document.querySelectorAll('#teacher-info input, #professional-info input').forEach(input => {
                                    input.required = false;
                                });
                            } else if (identity === '教師') {
                                document.querySelectorAll('#student-info input, #professional-info input').forEach(input => {
                                    input.required = false;
                                });
                            } else if (identity === '社會人士') {
                                document.querySelectorAll('#student-info input, #teacher-info input').forEach(input => {
                                    input.required = false;
                                });
                            }
                        }
                        
                        // 取得提交按鈕並更新狀態
                        const submitBtn = form.querySelector('button[type="submit"]');
                        const originalText = submitBtn.innerHTML;
                        submitBtn.innerHTML = '提交中...';
                        submitBtn.disabled = true;
                        
                        // 使用 fetch API 提交表單到 Google 表單
                        const formData = new FormData(form);
                        
                        // 如果是研習表單，根據身份處理額外欄位
                        if (formId === 'form-workshop') {
                            const identity = formData.get('identity');
                            if (identity === '社會人士') {
                                // 確保社會人士相關欄位被包含在提交資料中
                                formData.append('school', '');
                                formData.append('department', '');
                                formData.append('teacherSchool', '');
                                formData.append('teacherDepartment', '');
                                formData.append('teacherTitle', '');
                            } else if (identity === '學生') {
                                // 學生相關欄位
                                formData.append('teacherSchool', '');
                                formData.append('teacherDepartment', '');
                                formData.append('teacherTitle', '');
                                formData.append('profession', '');
                                formData.append('company', '');
                            } else if (identity === '教師') {
                                // 教師相關欄位
                                formData.append('school', '');
                                formData.append('department', '');
                                formData.append('profession', '');
                                formData.append('company', '');
                            }
                            
                            // 確保便當選項被正確提交
                            const mealOption = formData.get('mealOption');
                            console.log("便當選項:", mealOption);
                            if (!mealOption) {
                                // 如果沒有選擇便當選項，選擇默認值
                                const defaultMealOption = document.querySelector('input[name="mealOption"]:checked')?.value || '葷食';
                                formData.set('mealOption', defaultMealOption);
                                console.log("設置默認便當選項:", defaultMealOption);
                            }
                        }
                        
                        // 確保eventType存在，如果表單中沒有，則添加它
                        if (!formData.get('eventType')) {
                            if (formId === 'form-workshop') {
                                formData.append('eventType', '無人機與穿越機研習');
                            } else if (formId === 'form-fpv') {
                                formData.append('eventType', '穿越無人機競速闖關賽');
                            } else if (formId === 'form-beginner') {
                                formData.append('eventType', '入門無人機競速闖關賽');
                            } else if (formId === 'form-team') {
                                formData.append('eventType', '入門無人機團體解題競速闖關賽');
                            }
                        }
                        
                        // 為保持兼容性，也添加activityType參數
                        formData.append('activityType', formData.get('eventType'));
                        
                        // 調試: 輸出完整的表單數據，查看提交內容
                        let formDataOutput = {};
                        for (let pair of formData.entries()) {
                            formDataOutput[pair[0]] = pair[1];
                        }
                        console.log("完整表單數據:", JSON.stringify(formDataOutput));
                        
                        // 添加報名者姓名和聯絡資訊
                        const firstName = formData.get('firstName');
                        const lastName = formData.get('lastName');
                        formData.append('fullName', `${lastName}${firstName}`);
                        formData.append('submissionTime', new Date().toISOString());
                        formData.append('sendEmail', 'yes'); // 指示Google Apps Script發送通知郵件
                        
                        // 確保團傳和飛機尺寸正確提交
                        if (formData.has('transmission') && formId !== 'form-workshop') {
                            formData.append('teamName', formData.get('transmission'));
                        }
                        
                        if (formData.has('size') && formId !== 'form-workshop') {
                            formData.append('droneSize', formData.get('size'));
                        }
                        
                        // 記錄提交的數據（僅用於調試）
                        console.log(`正在提交表單: ${formId}`);
                        console.log(`活動類型: ${formData.get('eventType')}`);
                        console.log(`提交URL: ${form.action}`);
                        
                        // 前端提交表單時添加更詳細的日誌記錄
                        console.log("團隊外號:", formData.get('teamName'));
                        console.log("自備飛機:", formData.get('ownDrone'));
                        console.log("隊員1姓名:", formData.get('teamMember1LastName') + formData.get('teamMember1FirstName'));
                        console.log("隊員2姓名:", formData.get('teamMember2LastName') + formData.get('teamMember2FirstName'));
                        
                        // 轉換表單數據為後端期望的格式
                        let formDataObj = {};
                        for (let pair of formData.entries()) {
                            formDataObj[pair[0]] = pair[1];
                        }
                        
                        // 構建正確的請求格式
                        const requestData = {
                            eventType: formData.get('eventType'),
                            params: formDataObj
                        };
                        
                        console.log("發送到後端的數據:", JSON.stringify(requestData));
                        
                        // 提交到 Google Apps Script
                        fetch(form.action, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(requestData),
                            mode: 'no-cors' // 重要：使用 no-cors 模式處理跨域請求
                        }).then(() => {
                            console.log('表單提交成功');
                            console.log(`表單ID: ${formId}, 活動類型: ${formData.get('eventType')}`);
                            
                            // 顯示成功訊息
                            setTimeout(function() {
                                // 恢復提交按鈕狀態
                                submitBtn.innerHTML = originalText;
                                submitBtn.disabled = false;
                                
                                // 顯示成功訊息
                                alert('報名資料已提交！感謝您的報名。系統將發送一封確認郵件至您提供的信箱，請注意查收。');
                                
                                // 關閉模態框
                                closeModal();
                                
                                // 重置表單
                                form.reset();
                            }, 1000);
                        }).catch(error => {
                            console.error('表單提交錯誤:', error);
                            console.error(`表單ID: ${formId}, 活動類型: ${formData.get('eventType')}`);
                            
                            // 顯示成功訊息（即使有錯誤也顯示成功，因為 no-cors 無法真正檢測錯誤）
                            setTimeout(function() {
                                // 恢復提交按鈕狀態
                                submitBtn.innerHTML = originalText;
                                submitBtn.disabled = false;
                                
                                // 顯示成功訊息
                                alert('報名資料已提交！感謝您的報名。系統將發送一封確認郵件至您提供的信箱，請注意查收。');
                                
                                // 關閉模態框
                                closeModal();
                                
                                // 重置表單
                                form.reset();
                            }, 1000);
                        });
                    });
                }
            });

            // 處理研習活動表單的身份選擇
            const identityRadios = document.querySelectorAll('input[name="identity"]');
            const studentInfo = document.getElementById('student-info');
            const teacherInfo = document.getElementById('teacher-info');
            const professionalInfo = document.getElementById('professional-info');
            
            identityRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    // 隱藏所有資訊區塊
                    studentInfo.classList.add('hidden');
                    teacherInfo.classList.add('hidden');
                    professionalInfo.classList.add('hidden');
                    
                    // 移除所有輸入框的required屬性
                    document.querySelectorAll('#student-info input, #teacher-info input, #professional-info input').forEach(input => {
                        input.required = false;
                    });
                    
                    // 根據選擇顯示相應的資訊區塊
                    if (this.value === '學生') {
                        studentInfo.classList.remove('hidden');
                        // 設置必填欄位
                        studentInfo.querySelectorAll('input').forEach(input => {
                            input.required = true;
                        });
                    } else if (this.value === '教師') {
                        teacherInfo.classList.remove('hidden');
                        // 設置必填欄位
                        teacherInfo.querySelectorAll('input').forEach(input => {
                            input.required = true;
                        });
                    } else if (this.value === '社會人士') {
                        professionalInfo.classList.remove('hidden');
                        // 設置必填欄位
                        professionalInfo.querySelectorAll('input').forEach(input => {
                            input.required = true;
                        });
                    }
                });
            });
        });

        // 圖片放大 Modal 控制
        function openImageModal(imageSrc) {
            document.getElementById('modal-image').src = imageSrc;
            document.getElementById('image-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden'; // 防止背景滾動
        }

        function closeImageModal() {
            document.getElementById('image-modal').classList.add('hidden');
            document.body.style.overflow = ''; // 恢復背景滾動
        }

        // 點擊 image-modal 外部關閉
        document.getElementById('image-modal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        // 按 ESC 鍵關閉圖片
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && !document.getElementById('image-modal').classList.contains('hidden')) {
                closeImageModal();
            }
        });
    </script>

    <!-- 頁尾 -->
    <footer class="bg-[#3a0088] text-white py-8">
        <div class="max-w-7xl mx-auto px-4">
            <div class="text-center">
                <p class="text-white text-lg">© 2025 弘光科技大學 版權所有</p>
                <p class="mt-2 text-[#ffbd39] text-lg">網站製作者：弘光科技大學 智慧科技應用系 助理教授 陳富國 (賴：fgchen) </p>
            </div>
        </div>
    </footer>
</body>
</html> 